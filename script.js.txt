function updateBar(id, value) {
  document.getElementById(id + "-bar").style.width = value + "%";
}

document.addEventListener("DOMContentLoaded", function () {
  document.getElementById("nome").addEventListener("input", function () {
    document.getElementById("nome-preview").textContent = this.value;
  });

  document.getElementById("ruolo").addEventListener("change", function () {
    document.getElementById("ruolo-preview").textContent = "🏐 " + this.value;
  });

  ["potenza", "precisione", "ricezione", "muro", "resistenza", "agilita"].forEach(stat => {
    const input = document.getElementById(stat);
    updateBar(stat, input.value);
    input.addEventListener("input", () => updateBar(stat, input.value));
  });

  document.getElementById("upload-img").addEventListener("change", function () {
    const file = this.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        document.getElementById("foto").src = e.target.result;
      };
      reader.readAsDataURL(file);
    }
  });
});
